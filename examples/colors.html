<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Example - Hello</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

  <link rel="stylesheet" href="example.css">
  <script src="../dist/beep8.js"></script>

	<script>
		const MAX_COLORS = beep8.CONFIG.COLORS.length;

		let selFg = 7;
		let selBg = 1;

		async function main() {

			while (true) {

				demo_render();

				const k = await beep8.Async.key();

				if (k === "ArrowLeft") selFg = Math.max(0, selFg - 1);
				if (k === "ArrowRight") selFg = Math.min(MAX_COLORS - 1, selFg + 1);
				if (k === "ArrowUp") selBg = Math.max(0, selBg - 1);
				if (k === "ArrowDown") selBg = Math.min(MAX_COLORS - 1, selBg + 1);

			}

		}

		function demo_render() {

			beep8.color(15, 0);
			beep8.cls();
			beep8.locate(1, 1);
			beep8.print("COLORS");
			beep8.locate(1, 21);
			beep8.print("Use arrow keys to change.");

			for (let i = 0; i < MAX_COLORS; i++) {
				const ch = "0123456789abcdef".substring(i, i + 1);
				beep8.color(15, 0);
				beep8.locate(i + 2, 3);
				beep8.print(ch);
				beep8.locate(1, i + 4);
				beep8.print(ch);
			}
			for (let i = 0; i < MAX_COLORS; i++) {
				for (let j = 0; j < MAX_COLORS; j++) {
					beep8.locate(i + 2, 4 + j);
					beep8.color(i, j);
					beep8.print(i === selFg && j === selBg ? "*" : "â€¢");
				}
			}
			beep8.locate(19, 3);
			beep8.color(selFg, selBg);
			beep8.printBox(12, 17);
			beep8.locate(20, 7);
			beep8.print(`color(${selFg},${selBg})

FG: ${selFg}
BG: ${selBg}

Lorem\nipsum\ndolor\nsit amet`);

		}

		window.addEventListener(
			"load",
			() => beep8.init( main, {NAME:'Colors Test'} )
		);

	</script>
</head>
<body>
</body>
</html>
