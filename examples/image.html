<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<title>Custom Image</title>
	<meta name="description" content="Load a custom image use it as a background for a demo text adventure game.">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

	<link rel="stylesheet" href="example.css">
	<script src="../dist/b8.js"></script>

	<script>

		async function main() {

			b8.color( 3, 0 );
			b8.cls();
			b8.locate( 1, 1 );
			b8.print( "Loading..." );
			const img = await b8.Async.loadImage( "assets/castle.png" );

			b8.cls();
			b8.drawImage( 8, 24, img );
			b8.locate( 1, 1 );

			b8.print( "You stand in front of the castle. Will you enter?", b8.CONFIG.SCREEN_COLS - 2 );

			b8.locate( b8.CONFIG.SCREEN_COLS - 10, 14 );
			const choice = await b8.Async.menu( [ "Enter", "Leave", "Look", "Cast", "Rest" ] );

			// TODO: do something interesting based on the choice.
			// Here we just print a fascinating ending according to what the user did:

			b8.cls();
			b8.locate( 1, 1 );
			switch ( choice ) {
				case 0: b8.print( "You enter the castle.\nThe evil villain flees.\n\nTHE END", b8.CONFIG.SCREEN_COLS - 2 ); break;
				case 1: b8.print( "You leave the area.\nAnother hero saves the kingdom.\n\nTHE END", b8.CONFIG.SCREEN_COLS - 2 ); break;
				case 2: b8.print( "As you're looking around, a dragon eats you.\nYou died.\n\nTHE END", b8.CONFIG.SCREEN_COLS - 2 ); break;
				case 3: b8.print( "You try to cast a spell, then you remember you're not a wizard.\n\nTHE END", b8.CONFIG.SCREEN_COLS - 2 ); break;
				case 4: b8.print( "You lie down and rest.\nSomeone else saves the kingdom.\n\nTHE END", b8.CONFIG.SCREEN_COLS - 2 ); break;
			}
		}

		window.addEventListener( "load", () => b8.init( main ) );
	</script>
</head>

<body>
</body>

</html>